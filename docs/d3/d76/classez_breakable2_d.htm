<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ezEngine: ezBreakable2D Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../EZ-logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">ezEngine<span id="projectnumber">&#160;Release 25.08</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.htm');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.htm','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d3/d76/classez_breakable2_d.htm','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="../../d6/d62/classez_breakable2_d-members.htm">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ezBreakable2D Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A 2-dimensional shape that can be broken up into many pieces (shards) using different break patterns.  
 <a href="../../d3/d76/classez_breakable2_d.htm#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../da/d8c/_breakable2_d_8h_source.htm">Breakable2D.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a10fe29672bc3708fde2de1270e1f1044" id="r_a10fe29672bc3708fde2de1270e1f1044"><td class="memItemLeft" align="right" valign="top"><a id="a10fe29672bc3708fde2de1270e1f1044" name="a10fe29672bc3708fde2de1270e1f1044"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Clear</b> ()</td></tr>
<tr class="memdesc:a10fe29672bc3708fde2de1270e1f1044"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets all state back to the default. <br /></td></tr>
<tr class="separator:a10fe29672bc3708fde2de1270e1f1044"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04f93dab86a8e11e6ebd98eb8f77fe68" id="r_a04f93dab86a8e11e6ebd98eb8f77fe68"><td class="memItemLeft" align="right" valign="top"><a id="a04f93dab86a8e11e6ebd98eb8f77fe68" name="a04f93dab86a8e11e6ebd98eb8f77fe68"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Initialize</b> ()</td></tr>
<tr class="memdesc:a04f93dab86a8e11e6ebd98eb8f77fe68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the state and sets up a single shard to begin with. Afterwards the calling code has to configure that shard's shape. <br /></td></tr>
<tr class="separator:a04f93dab86a8e11e6ebd98eb8f77fe68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d2026f85099ca5078ecbca5d2912313" id="r_a5d2026f85099ca5078ecbca5d2912313"><td class="memItemLeft" align="right" valign="top"><a id="a5d2026f85099ca5078ecbca5d2912313" name="a5d2026f85099ca5078ecbca5d2912313"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>RemoveShard</b> (ezUInt32 uiShardIdx)</td></tr>
<tr class="memdesc:a5d2026f85099ca5078ecbca5d2912313"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the given shard to 'shattered' (destroyed). <br /></td></tr>
<tr class="separator:a5d2026f85099ca5078ecbca5d2912313"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5835274b07780171a2083f1779800b3e" id="r_a5835274b07780171a2083f1779800b3e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d76/classez_breakable2_d.htm#a5835274b07780171a2083f1779800b3e">ShatterShard</a> (ezUInt32 uiShardIdx, const <a class="el" href="../../d1/df8/classez_vec2_template.htm">ezVec2</a> &amp;vShatterPosition, <a class="el" href="../../de/d9e/classez_random.htm">ezRandom</a> &amp;ref_rng, float fImpactRadius, float fCellSize, ezUInt8 uiAllowedBreakPatterns=(ezUInt8) ezBreakablePattern::All)</td></tr>
<tr class="memdesc:a5835274b07780171a2083f1779800b3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Breaks the given shard further apart, using one of the allowed break patterns.  <br /></td></tr>
<tr class="separator:a5835274b07780171a2083f1779800b3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83a96e2b277ad41b758b11d04e18a94f" id="r_a83a96e2b277ad41b758b11d04e18a94f"><td class="memItemLeft" align="right" valign="top"><a id="a83a96e2b277ad41b758b11d04e18a94f" name="a83a96e2b277ad41b758b11d04e18a94f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>ShatterAll</b> (float fShardSize, <a class="el" href="../../de/d9e/classez_random.htm">ezRandom</a> &amp;ref_rng, bool bMakeAllDynamic)</td></tr>
<tr class="memdesc:a83a96e2b277ad41b758b11d04e18a94f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shatters all shards using the cellular pattern and optionally sets them all to dynamic. <br /></td></tr>
<tr class="separator:a83a96e2b277ad41b758b11d04e18a94f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a504d5413e02a71d933cc058b64193767" id="r_a504d5413e02a71d933cc058b64193767"><td class="memItemLeft" align="right" valign="top"><a id="a504d5413e02a71d933cc058b64193767" name="a504d5413e02a71d933cc058b64193767"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>RecalculateDymamic</b> ()</td></tr>
<tr class="memdesc:a504d5413e02a71d933cc058b64193767"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates which shards are unsupported (not directly or indirectly connected to a fixed edge) and sets them to dynamic. <br /></td></tr>
<tr class="separator:a504d5413e02a71d933cc058b64193767"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a4ad085aa781f908982f694bf4124502a" id="r_a4ad085aa781f908982f694bf4124502a"><td class="memItemLeft" align="right" valign="top"><a id="a4ad085aa781f908982f694bf4124502a" name="a4ad085aa781f908982f694bf4124502a"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>m_fMaxRadius</b> = 0.0f</td></tr>
<tr class="memdesc:a4ad085aa781f908982f694bf4124502a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum radius of all active shards. <br /></td></tr>
<tr class="separator:a4ad085aa781f908982f694bf4124502a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98e47a6e5e5c31767baf2f0f81efa0a3" id="r_a98e47a6e5e5c31767baf2f0f81efa0a3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/dfe/classez_deque.htm">ezDeque</a>&lt; <a class="el" href="../../db/d2d/structez_breakable_shard2_d.htm">ezBreakableShard2D</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d76/classez_breakable2_d.htm#a98e47a6e5e5c31767baf2f0f81efa0a3">m_Shards</a></td></tr>
<tr class="separator:a98e47a6e5e5c31767baf2f0f81efa0a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A 2-dimensional shape that can be broken up into many pieces (shards) using different break patterns. </p>
<p>This class handles breaking 2D shapes into convex shards using various patterns. It only manages the geometry of the break patterns and does not perform physics simulation. The resulting shards can be used by physics systems to simulate the broken pieces.</p>
<p>Key features:</p><ul>
<li>Supports radial and cellular (Voronoi) break patterns</li>
<li>Tracks connections between shards to determine which pieces should fall</li>
<li>Allows progressive breaking with different patterns based on shard size</li>
<li>Provides culling information via bounding circles</li>
</ul>
<p>Usage:</p><ol type="1">
<li>Create instance and call <a class="el" href="../../d3/d76/classez_breakable2_d.htm#a04f93dab86a8e11e6ebd98eb8f77fe68" title="Clears the state and sets up a single shard to begin with. Afterwards the calling code has to configu...">Initialize()</a></li>
<li>Configure initial unbroken shape via first shard,</li>
<li>Call <a class="el" href="../../d3/d76/classez_breakable2_d.htm#a5835274b07780171a2083f1779800b3e" title="Breaks the given shard further apart, using one of the allowed break patterns.">ShatterShard()</a> to break pieces at impact points</li>
<li>Use RecalculateDynamic() to determine which pieces should fall</li>
<li>Feed shard geometry to physics system for simulation </li>
</ol>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a5835274b07780171a2083f1779800b3e" name="a5835274b07780171a2083f1779800b3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5835274b07780171a2083f1779800b3e">&#9670;&#160;</a></span>ShatterShard()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ezBreakable2D::ShatterShard </td>
          <td>(</td>
          <td class="paramtype">ezUInt32&#160;</td>
          <td class="paramname"><em>uiShardIdx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d1/df8/classez_vec2_template.htm">ezVec2</a> &amp;&#160;</td>
          <td class="paramname"><em>vShatterPosition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d9e/classez_random.htm">ezRandom</a> &amp;&#160;</td>
          <td class="paramname"><em>ref_rng</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>fImpactRadius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>fCellSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ezUInt8&#160;</td>
          <td class="paramname"><em>uiAllowedBreakPatterns</em> = <code>(ezUInt8)ezBreakablePattern::All</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Breaks the given shard further apart, using one of the allowed break patterns. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vShatterPosition</td><td>The world position where the impact occurred that causes the shard to break </td></tr>
    <tr><td class="paramname">fImpactRadius</td><td>The radius of the impact area - affects how far the break pattern spreads </td></tr>
    <tr><td class="paramname">fCellSize</td><td>For cellular break patterns, defines the approximate size of the resulting shards </td></tr>
    <tr><td class="paramname">uiAllowedBreakPatterns</td><td>A mask of ezBreakablePattern bits that defines which patterns may be used</td></tr>
  </table>
  </dd>
</dl>
<p>When a shard is shattered:</p><ul>
<li>For Radial patterns: Creates a radial break pattern originating from vShatterPosition</li>
<li>For Cellular patterns: Breaks the shard into roughly equally sized pieces using Voronoi cells</li>
<li>The shard must have the respective pattern enabled in m_uiBreakablePatterns</li>
<li>The resulting pieces inherit allowed break patterns based on their size</li>
<li>Small pieces will have no break patterns enabled (can't break further)</li>
<li>Medium pieces will only allow cellular patterns</li>
<li>Large pieces allow all patterns </li>
</ul>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a98e47a6e5e5c31767baf2f0f81efa0a3" name="a98e47a6e5e5c31767baf2f0f81efa0a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98e47a6e5e5c31767baf2f0f81efa0a3">&#9670;&#160;</a></span>m_Shards</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/dfe/classez_deque.htm">ezDeque</a>&lt;<a class="el" href="../../db/d2d/structez_breakable_shard2_d.htm">ezBreakableShard2D</a>&gt; ezBreakable2D::m_Shards</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>List of all shards that make up this breakable 2D object</p>
<p>Each shard represents a convex piece of the overall shape.</p><ul>
<li>When unbroken, contains just a single shard representing the whole shape</li>
<li>After breaking, contains multiple shards representing the broken pieces</li>
<li>Shattered/destroyed shards remain in the list but are marked with m_bShattered=true</li>
<li>Dynamic shards (m_bDynamic=true) are intended to be physically simulated, but this must be handled by other code</li>
<li>Each shard's edges define its shape and connections to neighboring shards </li>
</ul>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/runner/work/ezEngine/ezEngine/Code/Engine/GameEngine/Physics/<a class="el" href="../../da/d8c/_breakable2_d_8h_source.htm">Breakable2D.h</a></li>
<li>/home/runner/work/ezEngine/ezEngine/Code/Engine/GameEngine/Physics/Implementation/<b>Breakable2D.cpp</b></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d3/d76/classez_breakable2_d.htm">ezBreakable2D</a></li>
    <li class="footer">Generated on Fri Jul 11 2025 12:17:57 for ezEngine by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
